---
sidebar_position: 7
---

import { GLPolylineExample } from "@site/src/components/MapExample";
import BrowserOnly from "@docusaurus/BrowserOnly";

# GL 서브모듈 예제

GL 서브모듈을 사용하여 WebGL 기반의 고성능 렌더링 예제입니다.

## GL 서브모듈 기본 사용

GL 서브모듈을 사용하면 WebGL 기반의 고성능 렌더링을 활용할 수 있습니다. `Map` 컴포넌트의 `submodules` prop에 `"gl"`을 추가하면 됩니다:

```tsx
import { Map, Polyline } from "@rousen/react-naver-maps";

function App() {
  const path = [
    { x: 127.0276, y: 37.4979 },
    { x: 127.0286, y: 37.4989 },
    { x: 127.0296, y: 37.4999 },
    { x: 127.0306, y: 37.5009 },
  ];

  return (
    <Map ncpKeyId="your-ncp-key-id" submodules={["gl"]}>
      <Polyline
        path={path}
        strokeColor="#ff0000"
        strokeWeight={5}
        strokeOpacity={0.8}
      />
    </Map>
  );
}
```

## 대량 Polyline 렌더링

GL 서브모듈을 사용하면 많은 수의 Polyline을 더 효율적으로 렌더링할 수 있습니다:

<BrowserOnly>{() => <GLPolylineExample />}</BrowserOnly>

### 코드

```tsx
import { Map, Polyline } from "@rousen/react-naver-maps";
import { useState, useEffect } from "react";

function GLPolylineExample() {
  const [paths, setPaths] = useState<Array<Array<{ x: number; y: number }>>>(
    []
  );

  useEffect(() => {
    // 많은 수의 경로 생성
    const generatedPaths: Array<Array<{ x: number; y: number }>> = [];
    for (let i = 0; i < 100; i++) {
      const path: Array<{ x: number; y: number }> = [];
      for (let j = 0; j < 10; j++) {
        path.push({
          x: 127.0276 + (Math.random() - 0.5) * 0.1,
          y: 37.4979 + (Math.random() - 0.5) * 0.1,
        });
      }
      generatedPaths.push(path);
    }
    setPaths(generatedPaths);
  }, []);

  return (
    <Map
      ncpKeyId="your-ncp-key-id"
      submodules={["gl"]}
      mapOptions={{
        center: { x: 127.0276, y: 37.4979 },
        zoom: 13,
        gl: true,
      }}
    >
      {paths.map((path, index) => (
        <Polyline
          key={index}
          path={path}
          strokeColor={`hsl(${(index * 10) % 360}, 70%, 50%)`}
          strokeWeight={2}
          strokeOpacity={0.7}
        />
      ))}
    </Map>
  );
}

export default GLPolylineExample;
```

## GL 서브모듈의 장점

- **고성능 렌더링**: WebGL을 활용하여 많은 수의 Polyline을 효율적으로 렌더링
- **부드러운 애니메이션**: 대량의 데이터를 다룰 때도 부드러운 성능 유지
- **메모리 효율성**: GPU 가속을 통한 메모리 사용 최적화

GL 서브모듈은 특히 다음과 같은 경우에 유용합니다:

- 수백 개 이상의 Polyline을 동시에 표시해야 할 때
- 실시간으로 업데이트되는 경로 데이터를 표시할 때
- 복잡한 경로 네트워크를 시각화할 때
