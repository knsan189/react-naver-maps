---
sidebar_position: 7
---

import { GLPolylineExample } from "@site/src/components/MapExample";
import BrowserOnly from "@docusaurus/BrowserOnly";

# Raster 지도 예제 (`disableGL`)

이 라이브러리는 기본적으로 GL(WebGL)을 자동 로드합니다. 호환성·리소스 이유로 WebGL을 끄고 싶다면 `disableGL`을 `true`로 설정해 non-GL(레거시) 렌더러를 강제할 수 있습니다. GL 로드가 실패하면 자동으로 non-GL로 한 번 더 시도합니다.

## 기본 비GL 사용 (`disableGL`)

`disableGL`만 켜면 별도 서브모듈 설정 없이 GL을 끌 수 있습니다:

```tsx
import { Map, Polyline } from "@rousen/react-naver-maps";

function App() {
  const path = [
    { x: 127.0276, y: 37.4979 },
    { x: 127.0286, y: 37.4989 },
    { x: 127.0296, y: 37.4999 },
    { x: 127.0306, y: 37.5009 },
  ];

  return (
    <Map ncpKeyId="your-ncp-key-id" disableGL>
      <Polyline
        path={path}
        strokeColor="#ff0000"
        strokeWeight={5}
        strokeOpacity={0.8}
      />
    </Map>
  );
}
```

## 대량 Polyline를 non-GL로 렌더링

대량 오버레이에서도 WebGL을 끄고 싶을 때 `disableGL`로 강제할 수 있습니다:

<BrowserOnly>{() => <GLPolylineExample />}</BrowserOnly>

### 코드

```tsx
import { Map, Polyline } from "@rousen/react-naver-maps";
import { useState, useEffect } from "react";

function GLPolylineExample() {
  const [paths, setPaths] = useState<Array<Array<{ x: number; y: number }>>>(
    []
  );

  useEffect(() => {
    // 많은 수의 경로 생성
    const generatedPaths: Array<Array<{ x: number; y: number }>> = [];
    for (let i = 0; i < 100; i++) {
      const path: Array<{ x: number; y: number }> = [];
      for (let j = 0; j < 10; j++) {
        path.push({
          x: 127.0276 + (Math.random() - 0.5) * 0.1,
          y: 37.4979 + (Math.random() - 0.5) * 0.1,
        });
      }
      generatedPaths.push(path);
    }
    setPaths(generatedPaths);
  }, []);

  return (
    <Map
      ncpKeyId="your-ncp-key-id"
      disableGL
      mapOptions={{
        center: { x: 127.0276, y: 37.4979 },
        zoom: 13,
      }}
    >
      {paths.map((path, index) => (
        <Polyline
          key={index}
          path={path}
          strokeColor={`hsl(${(index * 10) % 360}, 70%, 50%)`}
          strokeWeight={2}
          strokeOpacity={0.7}
        />
      ))}
    </Map>
  );
}

export default GLPolylineExample;
```

## 언제 `disableGL`을 사용할까?

- 특정 브라우저/기기에서 WebGL 호환성 문제가 있을 때
- 서버 사이드 렌더링 중 GL 초기화를 피하고 싶을 때
- 단순 지도 + 소량 오버레이만 필요해 레거시 렌더러로 충분할 때
