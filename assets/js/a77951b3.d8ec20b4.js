"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1980],{2594(e,n,t){t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>f});const r=JSON.parse('{"id":"examples/overlay-example","title":"\uc624\ubc84\ub808\uc774 \uc608\uc81c","description":"React \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc9c0\ub3c4 \uc704\uc5d0 \uc624\ubc84\ub808\uc774\ub85c \ud45c\uc2dc\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4.","source":"@site/docs/examples/overlay-example.mdx","sourceDirName":"examples","slug":"/examples/overlay-example","permalink":"/react-naver-maps/docs/examples/overlay-example","draft":false,"unlisted":false,"editUrl":"https://github.com/knsan189/react-naver-maps/tree/main/docs/docs/examples/overlay-example.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"\ub9c8\ucee4 \uc608\uc81c","permalink":"/react-naver-maps/docs/examples/marker-example"},"next":{"title":"\ub3c4\ud615 \uadf8\ub9ac\uae30","permalink":"/react-naver-maps/docs/examples/drawing-shapes-example"}}');var o=t(4848),s=t(8453),a=(t(6540),t(6283)),c=t(9753);const i=({ncpKeyId:e=c.N})=>(0,o.jsx)("div",{style:{width:"100%",height:"400px",margin:"20px 0"},children:(0,o.jsx)(a.T5,{ncpKeyId:e,mapOptions:{center:{x:127.0276,y:37.4979},zoom:14},children:(0,o.jsx)(a.hJ,{position:{x:127.0276,y:37.4979},zIndex:100,anchor:"bottom-center",children:(0,o.jsxs)("div",{style:{background:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",minWidth:"200px"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"\uac15\ub0a8\uc5ed"}),(0,o.jsx)("p",{style:{margin:0,color:"#666"},children:"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c"})]})})})});var u=t(8478);const l={sidebar_position:3},d="\uc624\ubc84\ub808\uc774 \uc608\uc81c",p={},f=[{value:"\uae30\ubcf8 \uc815\ubcf4\ucc3d",id:"\uae30\ubcf8-\uc815\ubcf4\ucc3d",level:2},{value:"\ucf54\ub4dc",id:"\ucf54\ub4dc",level:3},{value:"\uc0c1\uc138 \uc815\ubcf4\ucc3d",id:"\uc0c1\uc138-\uc815\ubcf4\ucc3d",level:2},{value:"React \ucef4\ud3ec\ub10c\ud2b8 \uc624\ubc84\ub808\uc774",id:"react-\ucef4\ud3ec\ub10c\ud2b8-\uc624\ubc84\ub808\uc774",level:2},{value:"\uc5ec\ub7ec \uc624\ubc84\ub808\uc774",id:"\uc5ec\ub7ec-\uc624\ubc84\ub808\uc774",level:2}];function m(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\uc624\ubc84\ub808\uc774-\uc608\uc81c",children:"\uc624\ubc84\ub808\uc774 \uc608\uc81c"})}),"\n",(0,o.jsx)(n.p,{children:"React \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc9c0\ub3c4 \uc704\uc5d0 \uc624\ubc84\ub808\uc774\ub85c \ud45c\uc2dc\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"\uae30\ubcf8-\uc815\ubcf4\ucc3d",children:"\uae30\ubcf8 \uc815\ubcf4\ucc3d"}),"\n",(0,o.jsx)(u.A,{children:()=>(0,o.jsx)(i,{})}),"\n",(0,o.jsx)(n.h3,{id:"\ucf54\ub4dc",children:"\ucf54\ub4dc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Overlay } from "@rousen/react-naver-maps";\r\n\r\nfunction BasicOverlay() {\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id">\r\n        <Overlay\r\n          position={{ x: 127.0276, y: 37.4979 }}\r\n          zIndex={100}\r\n          anchor="BOTTOM_CENTER"\r\n        >\r\n          <div\r\n            style={{\r\n              background: "white",\r\n              padding: "10px",\r\n              borderRadius: "5px",\r\n              boxShadow: "0 2px 5px rgba(0,0,0,0.3)",\r\n            }}\r\n          >\r\n            \uac15\ub0a8\uc5ed\r\n          </div>\r\n        </Overlay>\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BasicOverlay;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc0c1\uc138-\uc815\ubcf4\ucc3d",children:"\uc0c1\uc138 \uc815\ubcf4\ucc3d"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Overlay } from "@rousen/react-naver-maps";\r\n\r\nfunction DetailedInfoWindow() {\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id">\r\n        <Overlay\r\n          position={{ x: 127.0276, y: 37.4979 }}\r\n          zIndex={100}\r\n          anchor="BOTTOM_CENTER"\r\n        >\r\n          <div\r\n            style={{\r\n              background: "white",\r\n              padding: "15px",\r\n              borderRadius: "8px",\r\n              boxShadow: "0 2px 8px rgba(0,0,0,0.15)",\r\n              minWidth: "200px",\r\n            }}\r\n          >\r\n            <h3 style={{ margin: "0 0 10px 0", fontSize: "16px" }}>\uac15\ub0a8\uc5ed</h3>\r\n            <p style={{ margin: "0 0 5px 0", color: "#666" }}>\r\n              \uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c\r\n            </p>\r\n            <p style={{ margin: 0, color: "#666" }}>\uc9c0\ud558\ucca0 2\ud638\uc120</p>\r\n          </div>\r\n        </Overlay>\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailedInfoWindow;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"react-\ucef4\ud3ec\ub10c\ud2b8-\uc624\ubc84\ub808\uc774",children:"React \ucef4\ud3ec\ub10c\ud2b8 \uc624\ubc84\ub808\uc774"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Overlay } from "@rousen/react-naver-maps";\r\n\r\ninterface InfoWindowProps {\r\n  title: string;\r\n  address: string;\r\n  subway: string;\r\n}\r\n\r\nfunction InfoWindow({ title, address, subway }: InfoWindowProps) {\r\n  return (\r\n    <div\r\n      style={{\r\n        background: "white",\r\n        padding: "15px",\r\n        borderRadius: "8px",\r\n        boxShadow: "0 2px 8px rgba(0,0,0,0.15)",\r\n        minWidth: "200px",\r\n      }}\r\n    >\r\n      <h3 style={{ margin: "0 0 10px 0", fontSize: "16px" }}>{title}</h3>\r\n      <p style={{ margin: "0 0 5px 0", color: "#666" }}>{address}</p>\r\n      <p style={{ margin: 0, color: "#666" }}>{subway}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ComponentOverlay() {\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id">\r\n        <Overlay\r\n          position={{ x: 127.0276, y: 37.4979 }}\r\n          zIndex={100}\r\n          anchor="BOTTOM_CENTER"\r\n        >\r\n          <InfoWindow\r\n            title="\uac15\ub0a8\uc5ed"\r\n            address="\uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c"\r\n            subway="\uc9c0\ud558\ucca0 2\ud638\uc120"\r\n          />\r\n        </Overlay>\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ComponentOverlay;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc5ec\ub7ec-\uc624\ubc84\ub808\uc774",children:"\uc5ec\ub7ec \uc624\ubc84\ub808\uc774"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Overlay } from "@rousen/react-naver-maps";\r\n\r\nfunction MultipleOverlays() {\r\n  const locations = [\r\n    {\r\n      position: { x: 127.0276, y: 37.4979 },\r\n      title: "\uac15\ub0a8\uc5ed",\r\n      address: "\uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uac15\ub0a8\uad6c",\r\n    },\r\n    {\r\n      position: { x: 126.978, y: 37.5665 },\r\n      title: "\uc11c\uc6b8\uc5ed",\r\n      address: "\uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uc911\uad6c",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id">\r\n        {locations.map((location, index) => (\r\n          <Overlay\r\n            key={index}\r\n            position={location.position}\r\n            zIndex={100 + index}\r\n            anchor="BOTTOM_CENTER"\r\n          >\r\n            <div\r\n              style={{\r\n                background: "white",\r\n                padding: "10px",\r\n                borderRadius: "5px",\r\n                boxShadow: "0 2px 5px rgba(0,0,0,0.3)",\r\n              }}\r\n            >\r\n              <strong>{location.title}</strong>\r\n              <br />\r\n              <small>{location.address}</small>\r\n            </div>\r\n          </Overlay>\r\n        ))}\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MultipleOverlays;\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},6283(e,n,t){t.d(n,{M_:()=>w,Ro:()=>b,T5:()=>d,hJ:()=>v,jl:()=>k,pH:()=>f,qZ:()=>I,tS:()=>x});var r=t(4848),o=t(6540);const s=(0,o.createContext)({maps:{},onMount:()=>{},onUnmount:()=>{}}),a=()=>{const{maps:e}=(0,o.useContext)(s),n=(0,o.useContext)(c);return(0,o.useMemo)(()=>n?{...e,current:n}:e,[e,n])},c=(0,o.createContext)(void 0);let i=null;function u(e){return"undefined"==typeof window?Promise.reject(new Error("Naver Maps SDK can only be loaded in browser.")):window.naver?.maps?Promise.resolve(window.naver.maps):i||(i=new Promise((n,t)=>{const r=e.scriptId??"naver-maps-sdk",o=document.getElementById(r),s=new Set((e.submodules??[]).filter(Boolean));!1!==e.useGL&&s.add("gl");const a=Array.from(s),c=a.includes("gl"),i=c?`__naverMapsOnLoad__${r.replace(/[^a-zA-Z0-9_]/g,"_")}`:null,u=()=>{if(i&&window[i])try{delete window[i]}catch{window[i]=void 0}},l=()=>{window.naver?.maps?n(window.naver.maps):t(new Error("Naver Maps loaded but window.naver.maps is missing."))};if(o)return c&&i?(window[i]=()=>{u(),l()},void(window.naver?.maps&&(u(),n(window.naver.maps)))):(o.addEventListener("load",l,{once:!0}),void o.addEventListener("error",()=>t(new Error("Failed to load Naver Maps SDK.")),{once:!0}));const d=document.createElement("script");d.id=r;const p=new URL("https://oapi.map.naver.com/openapi/v3/maps.js");p.searchParams.set("ncpKeyId",e.ncpKeyId),a.length&&p.searchParams.set("submodules",a.join(",")),c&&i&&(window[i]=()=>{u(),l()},p.searchParams.set("callback",i)),d.src=p.toString(),d.async=!0,d.type="text/javascript",d.onload=()=>{c||l()},d.onerror=()=>{u(),t(new Error("Failed to load Naver Maps SDK."))},document.head.appendChild(d)}).catch(e=>{throw i=null,e}),i)}const l={init:"onInit",zoomstart:"onZoomStart",zoomend:"onZoomEnd",bounds_changed:"onBoundsChanged",dragstart:"onDragStart",dragend:"onDragEnd",idle:"onIdle",resize:"onResize",scroll:"onScroll",addLayer:"onAddLayer",center_changed:"onCenterChanged",centerPoint_changed:"onCenterPointChanged",click:"onClick",dbclick:"onDbclick",doubletap:"onDoubletap",mapType_changed:"onMapTypeChanged",mapTypeId_changed:"onMapTypeIdChanged",mousedown:"onMousedown",mousemove:"onMousemove",mouseout:"onMouseout",mouseover:"onMouseover",mouseup:"onMouseup",panning:"onPanning",pinch:"onPinch",pinch_start:"onPinchStart",projection_changed:"onProjectionChanged",removeLayer:"onRemoveLayer",size_changed:"onSizeChanged"},d=(0,o.forwardRef)(({id:e,mapTypeId:n="normal",ncpKeyId:t,children:a,mapOptions:i={},submodules:d=[],style:p,disableGL:f=!1,...m},h)=>{const v=(0,o.useContext)(s),y=(0,o.useRef)(null),[x,g]=(0,o.useState)(),b=(0,o.useRef)(void 0),{isScriptLoaded:E}=(({ncpKeyId:e,submodules:n,disableGL:t})=>{const[r,s]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>JSON.stringify({ncpKeyId:e,submodules:n}),[e,n]);return(0,o.useEffect)(()=>{let e=!1;const{submodules:n,ncpKeyId:r}=JSON.parse(a),o=!t;return(async()=>{try{await u({ncpKeyId:r,submodules:n,useGL:o}),e||s(!0)}catch(t){if(!o)return;console.warn("Naver Maps GL load failed, retrying without GL",t);try{await u({ncpKeyId:r,submodules:n,useGL:!1}),e||s(!0)}catch(a){e||console.error("Failed to load Naver Maps SDK",a)}}})(),()=>{e=!0}},[a,t]),{isScriptLoaded:r}})({ncpKeyId:t,submodules:d,disableGL:f}),w=(0,o.useMemo)(()=>JSON.stringify(i)||"",[i]);(0,o.useEffect)(()=>{if(!E||!y.current)return;if("current"===e)throw new Error("id cannot be 'current' use other id");const n=new naver.maps.Map(y.current,{...i,gl:!f});return g(n),v.onMount(n,e),b.current=n,()=>{v.onUnmount(e),b.current=void 0,queueMicrotask(()=>{n.destroy()})}},[E]);const M=(0,o.useRef)({});(0,o.useEffect)(()=>{const e={};Object.keys(l).forEach(n=>{const t=m[l[n]];"function"==typeof t&&(e[n]=t)}),M.current=e},[m]),(0,o.useEffect)(()=>{x&&x.setMapTypeId(n)},[x,n]),(0,o.useEffect)(()=>{if(!x)return;const e=[];return Object.keys(l).forEach(n=>{const t=naver.maps.Event.addListener(x,n,(...e)=>{M.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[x]),(0,o.useEffect)(()=>{x&&x.setOptions(JSON.parse(w))},[x,w]),(0,o.useImperativeHandle)(h,()=>b.current,[x]);const k=(0,o.useMemo)(()=>({width:"100%",height:"100%",...p}),[p]);return(0,r.jsx)("div",{id:e,style:k,ref:y,children:x&&(0,r.jsx)(c.Provider,{value:x,children:a})})});d.displayName="Map";const p={click:"onClick",position_changed:"onPositionChanged",rightclick:"onRightclick",title_changed:"onTitleChanged",touchend:"onTouchEnd",touchstart:"onTouchStart",visible_changed:"onVisibleChanged",zindex_changed:"onZIndexChanged",clickable_changed:"onClickableChanged",dblclick:"onDblclick",draggable_changed:"onDraggableChanged",icon_changed:"onIconChanged",icon_loaded:"onIconLoaded",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut"},f=(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(p).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Marker(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{if(!r)return;const e=i.position;e&&r.setPosition(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.animation;r.setAnimation(e??null)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.clickable;r.setClickable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.zIndex;void 0!==e&&r.setZIndex(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.cursor;r.setCursor(e??"")},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.draggable;r.setDraggable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.icon;e&&r.setIcon(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.shape;e&&r.setShape(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.title;e&&r.setTitle(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.visible;r.setVisible(e??!0)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(p).forEach(n=>{const t=c[p[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(p).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}),m={"center-center":"translate(-50%, -50%)","center-left":"translate(-100%, -50%)","center-right":"translate(0, -50%)","top-center":"translate(-50%, 0)","top-left":"translate(-100%, 0)","top-right":"translate(0, 0)","bottom-center":"translate(-50%, -100%)","bottom-left":"translate(-100%, -100%)","bottom-right":"translate(0, -100%)"},h=()=>class extends naver.maps.OverlayView{constructor({element:e,position:n,zIndex:t,anchor:r="center-center"}){super(),this._element=e,this._position=n,this.zIndex=t,this.anchor=r}getPosition(){return this._position}setPosition(e){this._position=e,this.draw()}setZIndex(e){this.zIndex=e,this.draw()}setAnchor(e){this.anchor=e,this.draw()}onAdd(){this.getPanes().overlayImage.append(this._element)}draw(){if(!this.getMap())return;const e=this.getProjection().fromCoordToOffset(new naver.maps.LatLng(this.getPosition()));this._element.style.position="absolute",this._element.style.zIndex=this.zIndex?.toString()??"auto",this._element.style.left=`${e.x}px`,this._element.style.top=`${e.y}px`,this._element.style.transform=m[this.anchor??"bottom-center"]}destroy(){this._element.remove()}onRemove(){this.destroy()}},v=({children:e,...n})=>{const{current:t}=a(),s=(0,o.useRef)(null),[c,i]=(0,o.useState)();return(0,o.useEffect)(()=>{if(!t||!s.current)return;const e=new(h())({element:s.current,...n});return e.setMap(t),i(e),()=>{e.destroy()}},[t]),(0,o.useEffect)(()=>{c&&c.setPosition(n.position)},[c,n.position]),(0,o.useEffect)(()=>{c&&c.setZIndex(n.zIndex)},[c,n.zIndex]),(0,o.useEffect)(()=>{c&&c.setAnchor(n.anchor)},[c,n.anchor]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{ref:s,children:e})})},y={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},x=(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(y).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polygon(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(y).forEach(n=>{const t=c[y[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(y).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});x.displayName="Polygon";const g={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},b=(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(g).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polyline(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(g).forEach(n=>{const t=c[g[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(g).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});b.displayName="Polyline";const E={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},w=(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(E).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Rectangle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(E).forEach(n=>{const t=c[E[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(E).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});w.displayName="Rectangle";const M={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},k=(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(M).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Circle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(M).forEach(n=>{const t=c[M[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(M).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});k.displayName="Circle";const O={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"};(0,o.forwardRef)((e,n)=>{const{current:t}=a(),[r,s]=(0,o.useState)(),c={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(O).includes(t)){const n=e[t];void 0!==n&&(c[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Ellipse(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(O).forEach(n=>{const t=c[O[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[c]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(O).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}).displayName="Ellipse";const j={addfeature:"onAddFeature",removefeature:"onRemoveFeature",setfeature:"onSetFeature",setgeometry:"onSetGeometry",setproperty:"onSetProperty",removeproperty:"onRemoveProperty",click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mousemove:"onMouseMove"},I=({type:e,url:n,autoStyle:t=!0,style:r,onLoad:s,onError:c,...i})=>{const{current:u}=a(),[l,d]=(0,o.useState)(),p=(0,o.useMemo)(()=>e=>{e.getAllFeature().forEach(n=>{e.removeFeature(n)})},[]);(0,o.useEffect)(()=>{if(!u)return;const e=new naver.maps.Data;return e.setMap(u),d(e),()=>{e.setMap(null),d(void 0)}},[u]),(0,o.useEffect)(()=>{if(!l)return;const r=new AbortController;return(async()=>{try{p(l);const o=await fetch(n,{signal:r.signal});if(!o.ok)throw new Error(`Failed to fetch data layer: ${o.status}`);if("geojson"===e){const e=await o.json();return void(r.signal.aborted||(l.addGeoJson(e,t),s?.(l)))}const a=await o.text();if(r.signal.aborted)return;const c=(new DOMParser).parseFromString(a,"text/xml");"gpx"===e&&l.addGpx(c,t),"kml"===e&&l.addKml(c,t),s?.(l)}catch(o){if(r.signal.aborted)return;c?.(o)}})(),()=>r.abort()},[l,e,n,t,p,s,c]),(0,o.useEffect)(()=>{l&&void 0!==r&&l.setStyle(r)},[l,r]);const f=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(j).forEach(n=>{const t=i[j[n]];"function"==typeof t&&(e[n]=t)}),f.current=e},[i]),(0,o.useEffect)(()=>{if(!l)return;const e=[];return Object.keys(j).forEach(n=>{const t=naver.maps.Event.addListener(l,n,(...e)=>{f.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[l]),null}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},8478(e,n,t){t.d(n,{A:()=>s});t(6540);var r=t(2303),o=t(4848);function s({children:e,fallback:n}){return(0,r.A)()?(0,o.jsx)(o.Fragment,{children:e?.()}):n??null}},9753(e,n,t){t.d(n,{N:()=>r});const r="qeycp2mj4a"}}]);