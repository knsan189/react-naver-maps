"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4424],{3163(e,t,n){n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>m,default:()=>g,frontMatter:()=>f,metadata:()=>o,toc:()=>v});const o=JSON.parse('{"id":"examples/data-layer-example","title":"\ub370\uc774\ud130 \ub808\uc774\uc5b4 \uc608\uc81c","description":"GeoJSON\uacfc GPX \ub370\uc774\ud130\ub97c \ub85c\ub529\ud574\uc11c \uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4.","source":"@site/docs/examples/data-layer-example.mdx","sourceDirName":"examples","slug":"/examples/data-layer-example","permalink":"/react-naver-maps/docs/examples/data-layer-example","draft":false,"unlisted":false,"editUrl":"https://github.com/knsan189/react-naver-maps/tree/main/docs/docs/examples/data-layer-example.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"\uc778\ud130\ub799\ud2f0\ube0c \uc9c0\ub3c4 \uc608\uc81c","permalink":"/react-naver-maps/docs/examples/interactive-map"},"next":{"title":"MapProvider \uc608\uc81c","permalink":"/react-naver-maps/docs/examples/mapprovider-example"}}');var r=n(4848),s=n(8453),a=n(6540),c=n(6283),i=n(9753),l=n(6025);const u=({ncpKeyId:e=i.N})=>{const[t,n]=a.useState(null),[o,s]=a.useState(!1),u=(0,l.Ay)("/data/sample-geojson.json"),d=o?{fillColor:"#f97316",fillOpacity:.25,strokeColor:"#ea580c",strokeOpacity:.9,strokeWeight:3}:{fillColor:"#60a5fa",fillOpacity:.35,strokeColor:"#2563eb",strokeOpacity:.9,strokeWeight:2};return(0,r.jsxs)("div",{style:{margin:"20px 0"},children:[(0,r.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:(0,r.jsx)("button",{onClick:()=>s(e=>!e),type:"button",children:"GeoJSON \uc2a4\ud0c0\uc77c \ubcc0\uacbd"})}),(0,r.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,r.jsx)(c.T5,{ncpKeyId:e,mapOptions:{center:{x:126.977,y:37.568},zoom:14},children:(0,r.jsx)(c.qZ,{type:"geojson",url:u,style:d,onClick:e=>{const t=e.feature.getProperty("name");n("string"==typeof t?t:"\uc120\ud0dd\ub41c \uc601\uc5ed")}})})}),(0,r.jsxs)("div",{style:{marginTop:"10px",fontSize:"14px"},children:["\uc120\ud0dd\ub41c \uc601\uc5ed: ",t??"\uc5c6\uc74c"]})]})},d=({ncpKeyId:e=i.N})=>{const[t,n]=a.useState("\ub85c\ub529 \uc911"),[o,s]=a.useState(!1),u=(0,l.Ay)("/data/sample-gpx.gpx"),d=o?{strokeColor:"#ef4444",strokeOpacity:.9,strokeWeight:5}:{strokeColor:"#22c55e",strokeOpacity:.9,strokeWeight:3};return(0,r.jsxs)("div",{style:{margin:"20px 0"},children:[(0,r.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:(0,r.jsx)("button",{onClick:()=>s(e=>!e),type:"button",children:"GPX \uc2a4\ud0c0\uc77c \ubcc0\uacbd"})}),(0,r.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,r.jsx)(c.T5,{ncpKeyId:e,mapOptions:{center:{x:126.977,y:37.568},zoom:11},children:(0,r.jsx)(c.qZ,{type:"gpx",url:u,style:d,onLoad:()=>n("\ub85c\ub529 \uc644\ub8cc"),onError:()=>n("\ub85c\ub529 \uc2e4\ud328")})})}),(0,r.jsxs)("div",{style:{marginTop:"10px",fontSize:"14px"},children:["GPX \uc0c1\ud0dc: ",t]})]})};var p=n(8478);const f={sidebar_position:6},m="\ub370\uc774\ud130 \ub808\uc774\uc5b4 \uc608\uc81c",h={},v=[{value:"\ub77c\uc774\ube0c \uc608\uc81c",id:"\ub77c\uc774\ube0c-\uc608\uc81c",level:2},{value:"GeoJSON \ucf54\ub4dc",id:"geojson-\ucf54\ub4dc",level:2},{value:"GPX \ub77c\uc774\ube0c \uc608\uc81c",id:"gpx-\ub77c\uc774\ube0c-\uc608\uc81c",level:2},{value:"GPX \ucf54\ub4dc",id:"gpx-\ucf54\ub4dc",level:2},{value:"\uc124\uba85",id:"\uc124\uba85",level:2}];function y(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"\ub370\uc774\ud130-\ub808\uc774\uc5b4-\uc608\uc81c",children:"\ub370\uc774\ud130 \ub808\uc774\uc5b4 \uc608\uc81c"})}),"\n",(0,r.jsx)(t.p,{children:"GeoJSON\uacfc GPX \ub370\uc774\ud130\ub97c \ub85c\ub529\ud574\uc11c \uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(t.h2,{id:"\ub77c\uc774\ube0c-\uc608\uc81c",children:"\ub77c\uc774\ube0c \uc608\uc81c"}),"\n",(0,r.jsx)(p.A,{children:()=>(0,r.jsx)(u,{})}),"\n",(0,r.jsx)(t.h2,{id:"geojson-\ucf54\ub4dc",children:"GeoJSON \ucf54\ub4dc"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { useState } from "react";\r\nimport { DataLayer, Map } from "@rousen/react-naver-maps";\r\n\r\nfunction DataLayerExample() {\r\n  const [useAltStyle, setUseAltStyle] = useState(false);\r\n  const style = useAltStyle\r\n    ? {\r\n        fillColor: "#f97316",\r\n        fillOpacity: 0.25,\r\n        strokeColor: "#ea580c",\r\n        strokeOpacity: 0.9,\r\n        strokeWeight: 3,\r\n      }\r\n    : {\r\n        fillColor: "#60a5fa",\r\n        fillOpacity: 0.35,\r\n        strokeColor: "#2563eb",\r\n        strokeOpacity: 0.9,\r\n        strokeWeight: 2,\r\n      };\r\n\r\n  return (\r\n    <div>\r\n      <button type="button" onClick={() => setUseAltStyle((prev) => !prev)}>\r\n        GeoJSON \uc2a4\ud0c0\uc77c \ubcc0\uacbd\r\n      </button>\r\n      <div style={{ width: "100%", height: "400px", marginTop: "10px" }}>\r\n        <Map\r\n          ncpKeyId="your-ncp-key-id"\r\n          mapOptions={{ center: { x: 126.977, y: 37.568 }, zoom: 14 }}\r\n        >\r\n          <DataLayer\r\n            type="geojson"\r\n            url="/data/sample-geojson.json"\r\n            style={style}\r\n            onClick={(event) => {\r\n              const name = event.feature.getProperty("name");\r\n              console.log("\uc120\ud0dd\ub41c \uc601\uc5ed:", name);\r\n            }}\r\n          />\r\n        </Map>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DataLayerExample;\n'})}),"\n",(0,r.jsx)(t.h2,{id:"gpx-\ub77c\uc774\ube0c-\uc608\uc81c",children:"GPX \ub77c\uc774\ube0c \uc608\uc81c"}),"\n",(0,r.jsx)(p.A,{children:()=>(0,r.jsx)(d,{})}),"\n",(0,r.jsx)(t.h2,{id:"gpx-\ucf54\ub4dc",children:"GPX \ucf54\ub4dc"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { useState } from "react";\r\nimport { DataLayer, Map } from "@rousen/react-naver-maps";\r\n\r\nfunction DataLayerGpxExample() {\r\n  const [useAltStyle, setUseAltStyle] = useState(false);\r\n  const style = useAltStyle\r\n    ? {\r\n        strokeColor: "#ef4444",\r\n        strokeOpacity: 0.9,\r\n        strokeWeight: 5,\r\n      }\r\n    : {\r\n        strokeColor: "#22c55e",\r\n        strokeOpacity: 0.9,\r\n        strokeWeight: 3,\r\n      };\r\n\r\n  return (\r\n    <div>\r\n      <button type="button" onClick={() => setUseAltStyle((prev) => !prev)}>\r\n        GPX \uc2a4\ud0c0\uc77c \ubcc0\uacbd\r\n      </button>\r\n      <div style={{ width: "100%", height: "400px", marginTop: "10px" }}>\r\n        <Map\r\n          ncpKeyId="your-ncp-key-id"\r\n          mapOptions={{ center: { x: 126.977, y: 37.568 }, zoom: 11 }}\r\n        >\r\n          <DataLayer type="gpx" url="/data/sample-gpx.gpx" style={style} />\r\n        </Map>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DataLayerGpxExample;\n'})}),"\n",(0,r.jsx)(t.h2,{id:"\uc124\uba85",children:"\uc124\uba85"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"DataLayer"}),"\ub294 ",(0,r.jsx)(t.code,{children:"url"}),"\uc744 \uc9c1\uc811 fetch\ud574\uc11c ",(0,r.jsx)(t.code,{children:"geojson/gpx/kml"}),"\uc744 \ub85c\ub529\ud569\ub2c8\ub2e4"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"style"}),"\ub85c \ud53c\ucc98\uc758 \uae30\ubcf8 \uc2a4\ud0c0\uc77c\uc744 \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"onClick"})," \ub4f1 \uc774\ubca4\ud2b8 \ucf5c\ubc31\uc744 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),"\n"]})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(y,{...e})}):y(e)}},6283(e,t,n){n.d(t,{KU:()=>a,M_:()=>j,Ro:()=>E,T5:()=>p,hJ:()=>y,jl:()=>w,ko:()=>c,pH:()=>m,qZ:()=>C,tS:()=>x});var o=n(4848),r=n(6540);const s=(0,r.createContext)({maps:{},onMount:()=>{},onUnmount:()=>{}}),a=({children:e})=>{const[t,n]=(0,r.useState)({}),a=(0,r.useCallback)((e,t="default")=>{n(n=>({...n,[t]:e}))},[]),c=(0,r.useCallback)((e="default")=>{n(t=>{const n={...t};return delete n[e],n})},[]),i=(0,r.useMemo)(()=>({maps:t,onMount:a,onUnmount:c}),[t,a,c]);return(0,o.jsx)(s.Provider,{value:i,children:e})},c=()=>{const{maps:e}=(0,r.useContext)(s),t=(0,r.useContext)(i);return(0,r.useMemo)(()=>t?{...e,current:t}:e,[e,t])},i=(0,r.createContext)(void 0);let l=null;function u(e){return"undefined"==typeof window?Promise.reject(new Error("Naver Maps SDK can only be loaded in browser.")):window.naver?.maps?Promise.resolve(window.naver.maps):l||(l=new Promise((t,n)=>{const o=e.scriptId??"naver-maps-sdk",r=document.getElementById(o),s=new Set((e.submodules??[]).filter(Boolean));!1!==e.useGL&&s.add("gl");const a=Array.from(s),c=a.includes("gl"),i=c?`__naverMapsOnLoad__${o.replace(/[^a-zA-Z0-9_]/g,"_")}`:null,l=()=>{if(i&&window[i])try{delete window[i]}catch{window[i]=void 0}},u=()=>{window.naver?.maps?t(window.naver.maps):n(new Error("Naver Maps loaded but window.naver.maps is missing."))};if(r)return c&&i?(window[i]=()=>{l(),u()},void(window.naver?.maps&&(l(),t(window.naver.maps)))):(r.addEventListener("load",u,{once:!0}),void r.addEventListener("error",()=>n(new Error("Failed to load Naver Maps SDK.")),{once:!0}));const d=document.createElement("script");d.id=o;const p=new URL("https://oapi.map.naver.com/openapi/v3/maps.js");p.searchParams.set("ncpKeyId",e.ncpKeyId),a.length&&p.searchParams.set("submodules",a.join(",")),c&&i&&(window[i]=()=>{l(),u()},p.searchParams.set("callback",i)),d.src=p.toString(),d.async=!0,d.type="text/javascript",d.onload=()=>{c||u()},d.onerror=()=>{l(),n(new Error("Failed to load Naver Maps SDK."))},document.head.appendChild(d)}).catch(e=>{throw l=null,e}),l)}const d={init:"onInit",zoomstart:"onZoomStart",zoomend:"onZoomEnd",bounds_changed:"onBoundsChanged",dragstart:"onDragStart",dragend:"onDragEnd",idle:"onIdle",resize:"onResize",scroll:"onScroll",addLayer:"onAddLayer",center_changed:"onCenterChanged",centerPoint_changed:"onCenterPointChanged",click:"onClick",dbclick:"onDbclick",doubletap:"onDoubletap",mapType_changed:"onMapTypeChanged",mapTypeId_changed:"onMapTypeIdChanged",mousedown:"onMousedown",mousemove:"onMousemove",mouseout:"onMouseout",mouseover:"onMouseover",mouseup:"onMouseup",panning:"onPanning",pinch:"onPinch",pinch_start:"onPinchStart",projection_changed:"onProjectionChanged",removeLayer:"onRemoveLayer",size_changed:"onSizeChanged"},p=(0,r.forwardRef)(({id:e,mapTypeId:t="normal",ncpKeyId:n,children:a,mapOptions:c={},submodules:l=[],style:p,disableGL:f=!1,...m},h)=>{const v=(0,r.useContext)(s),y=(0,r.useRef)(null),[g,x]=(0,r.useState)(),k=(0,r.useRef)(void 0),{isScriptLoaded:E}=(({ncpKeyId:e,submodules:t,disableGL:n})=>{const[o,s]=(0,r.useState)(!1),a=(0,r.useMemo)(()=>JSON.stringify({ncpKeyId:e,submodules:t}),[e,t]);return(0,r.useEffect)(()=>{let e=!1;const{submodules:t,ncpKeyId:o}=JSON.parse(a),r=!n;return(async()=>{try{await u({ncpKeyId:o,submodules:t,useGL:r}),e||s(!0)}catch(n){if(!r)return;console.warn("Naver Maps GL load failed, retrying without GL",n);try{await u({ncpKeyId:o,submodules:t,useGL:!1}),e||s(!0)}catch(a){e||console.error("Failed to load Naver Maps SDK",a)}}})(),()=>{e=!0}},[a,n]),{isScriptLoaded:o}})({ncpKeyId:n,submodules:l,disableGL:f}),b=(0,r.useMemo)(()=>JSON.stringify(c)||"",[c]);(0,r.useEffect)(()=>{if(!E||!y.current)return;if("current"===e)throw new Error("id cannot be 'current' use other id");const t=new naver.maps.Map(y.current,{...c,gl:!f});return x(t),v.onMount(t,e),k.current=t,()=>{v.onUnmount(e),k.current=void 0,queueMicrotask(()=>{t.destroy()})}},[E]);const j=(0,r.useRef)({});(0,r.useEffect)(()=>{const e={};Object.keys(d).forEach(t=>{const n=m[d[t]];"function"==typeof n&&(e[t]=n)}),j.current=e},[m]),(0,r.useEffect)(()=>{g&&g.setMapTypeId(t)},[g,t]),(0,r.useEffect)(()=>{if(!g)return;const e=[];return Object.keys(d).forEach(t=>{const n=naver.maps.Event.addListener(g,t,(...e)=>{j.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[g]),(0,r.useEffect)(()=>{g&&g.setOptions(JSON.parse(b))},[g,b]),(0,r.useImperativeHandle)(h,()=>k.current,[g]);const M=(0,r.useMemo)(()=>({width:"100%",height:"100%",...p}),[p]);return(0,o.jsx)("div",{id:e,style:M,ref:y,children:g&&(0,o.jsx)(i.Provider,{value:g,children:a})})});p.displayName="Map";const f={click:"onClick",position_changed:"onPositionChanged",rightclick:"onRightclick",title_changed:"onTitleChanged",touchend:"onTouchEnd",touchstart:"onTouchStart",visible_changed:"onVisibleChanged",zindex_changed:"onZIndexChanged",clickable_changed:"onClickableChanged",dblclick:"onDblclick",draggable_changed:"onDraggableChanged",icon_changed:"onIconChanged",icon_loaded:"onIconLoaded",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut"},m=(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(f).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Marker(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]),(0,r.useEffect)(()=>{if(!o)return;const e=i.position;e&&o.setPosition(e)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.animation;o.setAnimation(e??null)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.clickable;o.setClickable(e??!1)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.zIndex;void 0!==e&&o.setZIndex(e)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.cursor;o.setCursor(e??"")},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.draggable;o.setDraggable(e??!1)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.icon;e&&o.setIcon(e)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.shape;e&&o.setShape(e)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.title;e&&o.setTitle(e)},[o,i]),(0,r.useEffect)(()=>{if(!o)return;const e=i.visible;o.setVisible(e??!0)},[o,i]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(f).forEach(t=>{const n=a[f[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(f).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null}),h={"center-center":"translate(-50%, -50%)","center-left":"translate(-100%, -50%)","center-right":"translate(0, -50%)","top-center":"translate(-50%, 0)","top-left":"translate(-100%, 0)","top-right":"translate(0, 0)","bottom-center":"translate(-50%, -100%)","bottom-left":"translate(-100%, -100%)","bottom-right":"translate(0, -100%)"},v=()=>class extends naver.maps.OverlayView{constructor({element:e,position:t,zIndex:n,anchor:o="center-center"}){super(),this._element=e,this._position=t,this.zIndex=n,this.anchor=o}getPosition(){return this._position}setPosition(e){this._position=e,this.draw()}setZIndex(e){this.zIndex=e,this.draw()}setAnchor(e){this.anchor=e,this.draw()}onAdd(){this.getPanes().overlayImage.append(this._element)}draw(){if(!this.getMap())return;const e=this.getProjection().fromCoordToOffset(new naver.maps.LatLng(this.getPosition()));this._element.style.position="absolute",this._element.style.zIndex=this.zIndex?.toString()??"auto",this._element.style.left=`${e.x}px`,this._element.style.top=`${e.y}px`,this._element.style.transform=h[this.anchor??"bottom-center"]}destroy(){this._element.remove()}onRemove(){this.destroy()}},y=({children:e,...t})=>{const{current:n}=c(),s=(0,r.useRef)(null),[a,i]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!n||!s.current)return;const e=new(v())({element:s.current,...t});return e.setMap(n),i(e),()=>{e.destroy()}},[n]),(0,r.useEffect)(()=>{a&&a.setPosition(t.position)},[a,t.position]),(0,r.useEffect)(()=>{a&&a.setZIndex(t.zIndex)},[a,t.zIndex]),(0,r.useEffect)(()=>{a&&a.setAnchor(t.anchor)},[a,t.anchor]),(0,o.jsx)("div",{children:(0,o.jsx)("div",{ref:s,children:e})})},g={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},x=(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(g).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Polygon(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]),(0,r.useEffect)(()=>{o&&o.setOptions(i)},[o,i]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(g).forEach(t=>{const n=a[g[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(g).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null});x.displayName="Polygon";const k={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},E=(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(k).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Polyline(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(k).forEach(t=>{const n=a[k[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(k).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null});E.displayName="Polyline";const b={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},j=(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(b).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Rectangle(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]),(0,r.useEffect)(()=>{o&&o.setOptions(i)},[o,i]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(b).forEach(t=>{const n=a[b[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(b).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null});j.displayName="Rectangle";const M={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},w=(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(M).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Circle(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]),(0,r.useEffect)(()=>{o&&o.setOptions(i)},[o,i]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(M).forEach(t=>{const n=a[M[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(M).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null});w.displayName="Circle";const O={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"};(0,r.forwardRef)((e,t)=>{const{current:n}=c(),[o,s]=(0,r.useState)(),a={},i={};Object.keys(e).forEach(t=>{const n=t;if(Object.values(O).includes(n)){const t=e[n];void 0!==t&&(a[n]=t)}else{const n=e[t];void 0!==n&&(i[t]=n)}}),(0,r.useEffect)(()=>{if(!n)return;const e=new naver.maps.Ellipse(i);return s(e),e.setMap(n),()=>{n&&e.setMap(null)}},[n]),(0,r.useEffect)(()=>{o&&o.setOptions(i)},[o,i]);const l=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(O).forEach(t=>{const n=a[O[t]];"function"==typeof n&&(e[t]=n)}),l.current=e},[a]),(0,r.useEffect)(()=>{if(!o)return;const e=[];return Object.keys(O).forEach(t=>{const n=naver.maps.Event.addListener(o,t,(...e)=>{l.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[o]),(0,r.useImperativeHandle)(t,()=>o,[o]),null}).displayName="Ellipse";const S={addfeature:"onAddFeature",removefeature:"onRemoveFeature",setfeature:"onSetFeature",setgeometry:"onSetGeometry",setproperty:"onSetProperty",removeproperty:"onRemoveProperty",click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mousemove:"onMouseMove"},C=({type:e,url:t,autoStyle:n=!0,style:o,onLoad:s,onError:a,...i})=>{const{current:l}=c(),[u,d]=(0,r.useState)(),p=(0,r.useMemo)(()=>e=>{e.getAllFeature().forEach(t=>{e.removeFeature(t)})},[]);(0,r.useEffect)(()=>{if(!l)return;const e=new naver.maps.Data;return e.setMap(l),d(e),()=>{e.setMap(null),d(void 0)}},[l]),(0,r.useEffect)(()=>{if(!u)return;const o=new AbortController;return(async()=>{try{p(u);const r=await fetch(t,{signal:o.signal});if(!r.ok)throw new Error(`Failed to fetch data layer: ${r.status}`);if("geojson"===e){const e=await r.json();return void(o.signal.aborted||(u.addGeoJson(e,n),s?.(u)))}const a=await r.text();if(o.signal.aborted)return;const c=(new DOMParser).parseFromString(a,"text/xml");"gpx"===e&&u.addGpx(c,n),"kml"===e&&u.addKml(c,n),s?.(u)}catch(r){if(o.signal.aborted)return;a?.(r)}})(),()=>o.abort()},[u,e,t,n,p,s,a]),(0,r.useEffect)(()=>{u&&void 0!==o&&u.setStyle(o)},[u,o]);const f=(0,r.useRef)({});return(0,r.useEffect)(()=>{const e={};Object.keys(S).forEach(t=>{const n=i[S[t]];"function"==typeof n&&(e[t]=n)}),f.current=e},[i]),(0,r.useEffect)(()=>{if(!u)return;const e=[];return Object.keys(S).forEach(t=>{const n=naver.maps.Event.addListener(u,t,(...e)=>{f.current[t]?.(...e)});e.push(()=>naver.maps.Event.removeListener(n))}),()=>e.forEach(e=>e())},[u]),null}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>c});var o=n(6540);const r={},s=o.createContext(r);function a(e){const t=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:t},e.children)}},8478(e,t,n){n.d(t,{A:()=>s});n(6540);var o=n(2303),r=n(4848);function s({children:e,fallback:t}){return(0,o.A)()?(0,r.jsx)(r.Fragment,{children:e?.()}):t??null}},9753(e,t,n){n.d(t,{N:()=>o});const o="qeycp2mj4a"}}]);