"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[333],{5188(e,n,t){t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>f,default:()=>y,frontMatter:()=>p,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"raster-map-example","title":"\ub798\uc2a4\ud130 \uc9c0\ub3c4 \uc608\uc81c","description":"\uc774 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub294 \uae30\ubcf8\uc801\uc73c\ub85c GL(WebGL)\uc744 \uc790\ub3d9 \ub85c\ub4dc\ud569\ub2c8\ub2e4. \ud638\ud658\uc131\xb7\ub9ac\uc18c\uc2a4 \uc774\uc720\ub85c WebGL\uc744 \ub044\uace0 \uc2f6\ub2e4\uba74 disableGL\uc744 true\ub85c \uc124\uc815\ud574 non-GL(\ub808\uac70\uc2dc) \ub80c\ub354\ub7ec\ub97c \uac15\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. GL \ub85c\ub4dc\uac00 \uc2e4\ud328\ud558\uba74 \uc790\ub3d9\uc73c\ub85c non-GL\ub85c \ud55c \ubc88 \ub354 \uc2dc\ub3c4\ud569\ub2c8\ub2e4.","source":"@site/examples/raster-map-example.mdx","sourceDirName":".","slug":"/raster-map-example","permalink":"/react-naver-maps/examples/raster-map-example","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"examplesSidebar","previous":{"title":"MapProvider \uc608\uc81c","permalink":"/react-naver-maps/examples/mapprovider-example"},"next":{"title":"reuseMap \uc608\uc81c","permalink":"/react-naver-maps/examples/reuse-map-example"}}');var o=t(4848),s=t(8453),a=t(6540),c=t(6283),i=t(9753);const u=({ncpKeyId:e=i.N})=>{const[n,t]=a.useState([]);return a.useEffect(()=>{const e=[];for(let n=0;n<100;n++){const n=[];for(let e=0;e<10;e++)n.push({x:127.0276+.1*(Math.random()-.5),y:37.4979+.1*(Math.random()-.5)});e.push(n)}t(e)},[]),(0,o.jsx)("div",{style:{width:"100%",height:"500px",margin:"20px 0"},children:(0,o.jsx)(c.T5,{ncpKeyId:e,disableGL:!0,initialOptions:{center:{x:127.0276,y:37.4979},zoom:12},children:n.map((e,n)=>(0,o.jsx)(c.Ro,{path:e,strokeColor:`hsl(${10*n%360}, 70%, 50%)`,strokeWeight:2,strokeOpacity:.7},n))})})},l=({ncpKeyId:e=i.N})=>(0,o.jsx)("div",{style:{width:"100%",height:"400px",margin:"20px 0"},children:(0,o.jsx)(c.T5,{ncpKeyId:e,initialOptions:{center:{x:126.978,y:37.5665},zoom:12},disableGL:!0})});var d=t(8478);const p={sidebar_position:7},f="\ub798\uc2a4\ud130 \uc9c0\ub3c4 \uc608\uc81c",h={},m=[{value:"\ub798\uc2a4\ud130 \uc9c0\ub3c4 \uc0ac\uc6a9 (<code>disableGL</code>)",id:"\ub798\uc2a4\ud130-\uc9c0\ub3c4-\uc0ac\uc6a9-disablegl",level:2},{value:"\ub300\ub7c9 Polyline\ub97c non-GL\ub85c \ub80c\ub354\ub9c1",id:"\ub300\ub7c9-polyline\ub97c-non-gl\ub85c-\ub80c\ub354\ub9c1",level:2},{value:"\ucf54\ub4dc",id:"\ucf54\ub4dc",level:3},{value:"\uc5b8\uc81c <code>disableGL</code>\uc744 \uc0ac\uc6a9\ud560\uae4c?",id:"\uc5b8\uc81c-disablegl\uc744-\uc0ac\uc6a9\ud560\uae4c",level:2}];function v(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\ub798\uc2a4\ud130-\uc9c0\ub3c4-\uc608\uc81c",children:"\ub798\uc2a4\ud130 \uc9c0\ub3c4 \uc608\uc81c"})}),"\n",(0,o.jsxs)(n.p,{children:["\uc774 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub294 \uae30\ubcf8\uc801\uc73c\ub85c GL(WebGL)\uc744 \uc790\ub3d9 \ub85c\ub4dc\ud569\ub2c8\ub2e4. \ud638\ud658\uc131\xb7\ub9ac\uc18c\uc2a4 \uc774\uc720\ub85c WebGL\uc744 \ub044\uace0 \uc2f6\ub2e4\uba74 ",(0,o.jsx)(n.code,{children:"disableGL"}),"\uc744 ",(0,o.jsx)(n.code,{children:"true"}),"\ub85c \uc124\uc815\ud574 non-GL(\ub808\uac70\uc2dc) \ub80c\ub354\ub7ec\ub97c \uac15\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. GL \ub85c\ub4dc\uac00 \uc2e4\ud328\ud558\uba74 \uc790\ub3d9\uc73c\ub85c non-GL\ub85c \ud55c \ubc88 \ub354 \uc2dc\ub3c4\ud569\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(n.h2,{id:"\ub798\uc2a4\ud130-\uc9c0\ub3c4-\uc0ac\uc6a9-disablegl",children:["\ub798\uc2a4\ud130 \uc9c0\ub3c4 \uc0ac\uc6a9 (",(0,o.jsx)(n.code,{children:"disableGL"}),")"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"disableGL"}),"\ub9cc \ucf1c\uba74 \ubcc4\ub3c4 \uc11c\ube0c\ubaa8\ub4c8 \uc124\uc815 \uc5c6\uc774 GL\uc744 \ub04c \uc218 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,o.jsx)(d.A,{children:()=>(0,o.jsx)(l,{})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Polyline } from "@rousen/react-naver-maps";\r\n\r\nfunction App() {\r\n  return (\r\n    <Map\r\n      ncpKeyId="your-ncp-key-id"\r\n      disableGL\r\n      initialOptions={{ center: { x: 126.978, y: 37.5665 }, zoom: 12 }}\r\n    />\r\n  );\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\ub300\ub7c9-polyline\ub97c-non-gl\ub85c-\ub80c\ub354\ub9c1",children:"\ub300\ub7c9 Polyline\ub97c non-GL\ub85c \ub80c\ub354\ub9c1"}),"\n",(0,o.jsxs)(n.p,{children:["\ub300\ub7c9 \uc624\ubc84\ub808\uc774\uc5d0\uc11c\ub3c4 WebGL\uc744 \ub044\uace0 \uc2f6\uc744 \ub54c ",(0,o.jsx)(n.code,{children:"disableGL"}),"\ub85c \uac15\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,o.jsx)(d.A,{children:()=>(0,o.jsx)(u,{})}),"\n",(0,o.jsx)(n.h3,{id:"\ucf54\ub4dc",children:"\ucf54\ub4dc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { Map, Polyline } from "@rousen/react-naver-maps";\r\nimport { useState, useEffect } from "react";\r\n\r\nfunction RasterMapPolylineExample() {\r\n  const [paths, setPaths] = useState<Array<Array<{ x: number; y: number }>>>(\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    // \ub9ce\uc740 \uc218\uc758 \uacbd\ub85c \uc0dd\uc131\r\n    const generatedPaths: Array<Array<{ x: number; y: number }>> = [];\r\n    for (let i = 0; i < 100; i++) {\r\n      const path: Array<{ x: number; y: number }> = [];\r\n      for (let j = 0; j < 10; j++) {\r\n        path.push({\r\n          x: 127.0276 + (Math.random() - 0.5) * 0.1,\r\n          y: 37.4979 + (Math.random() - 0.5) * 0.1,\r\n        });\r\n      }\r\n      generatedPaths.push(path);\r\n    }\r\n    setPaths(generatedPaths);\r\n  }, []);\r\n\r\n  return (\r\n    <Map\r\n      ncpKeyId="your-ncp-key-id"\r\n      disableGL\r\n      initialOptions={{\r\n        center: { x: 127.0276, y: 37.4979 },\r\n        zoom: 13,\r\n      }}\r\n    >\r\n      {paths.map((path, index) => (\r\n        <Polyline\r\n          key={index}\r\n          path={path}\r\n          strokeColor={`hsl(${(index * 10) % 360}, 70%, 50%)`}\r\n          strokeWeight={2}\r\n          strokeOpacity={0.7}\r\n        />\r\n      ))}\r\n    </Map>\r\n  );\r\n}\r\n\r\nexport default GLPolylineExample;\n'})}),"\n",(0,o.jsxs)(n.h2,{id:"\uc5b8\uc81c-disablegl\uc744-\uc0ac\uc6a9\ud560\uae4c",children:["\uc5b8\uc81c ",(0,o.jsx)(n.code,{children:"disableGL"}),"\uc744 \uc0ac\uc6a9\ud560\uae4c?"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\ud2b9\uc815 \ube0c\ub77c\uc6b0\uc800/\uae30\uae30\uc5d0\uc11c WebGL \ud638\ud658\uc131 \ubb38\uc81c\uac00 \uc788\uc744 \ub54c"}),"\n",(0,o.jsx)(n.li,{children:"\uc11c\ubc84 \uc0ac\uc774\ub4dc \ub80c\ub354\ub9c1 \uc911 GL \ucd08\uae30\ud654\ub97c \ud53c\ud558\uace0 \uc2f6\uc744 \ub54c"}),"\n",(0,o.jsx)(n.li,{children:"\ub2e8\uc21c \uc9c0\ub3c4 + \uc18c\ub7c9 \uc624\ubc84\ub808\uc774\ub9cc \ud544\uc694\ud574 \ub808\uac70\uc2dc \ub80c\ub354\ub7ec\ub85c \ucda9\ubd84\ud560 \ub54c"}),"\n"]})]})}function y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(v,{...e})}):v(e)}},6283(e,n,t){t.d(n,{KU:()=>a,M_:()=>M,Ro:()=>k,T5:()=>p,hJ:()=>y,jl:()=>j,ko:()=>c,pH:()=>h,qZ:()=>I,tS:()=>b});var r=t(4848),o=t(6540);const s=(0,o.createContext)({maps:{},onMount:()=>{},onUnmount:()=>{},getParkingContainer:()=>null}),a=({children:e})=>{const[n,t]=(0,o.useState)({}),a=(0,o.useRef)(null),c=(0,o.useCallback)(()=>a.current,[]),i=(0,o.useCallback)((e,n="default")=>{t(t=>({...t,[n]:e}))},[]),u=(0,o.useCallback)((e="default",n)=>{n?.keep||t(n=>{const t={...n};return delete t[e],t})},[]),l=(0,o.useMemo)(()=>({maps:n,onMount:i,onUnmount:u,getParkingContainer:c}),[n,i,u,c]);return(0,r.jsxs)(s.Provider,{value:l,children:[(0,r.jsx)("div",{ref:a,"aria-hidden":!0,style:{position:"absolute",left:-1e5,top:-1e5,width:0,height:0,overflow:"hidden",pointerEvents:"none",visibility:"hidden"}}),e]})},c=()=>{const{maps:e}=(0,o.useContext)(s),n=(0,o.useContext)(i);return(0,o.useMemo)(()=>n?{...e,current:n}:e,[e,n])},i=(0,o.createContext)(void 0);let u=null;function l(e){return"undefined"==typeof window?Promise.reject(new Error("Naver Maps SDK can only be loaded in browser.")):window.naver?.maps?Promise.resolve(window.naver.maps):u||(u=new Promise((n,t)=>{const r=e.scriptId??"naver-maps-sdk",o=document.getElementById(r),s=new Set((e.submodules??[]).filter(Boolean));!1!==e.useGL&&s.add("gl");const a=Array.from(s),c=a.includes("gl"),i=c?`__naverMapsOnLoad__${r.replace(/[^a-zA-Z0-9_]/g,"_")}`:null,u=()=>{if(i&&window[i])try{delete window[i]}catch{window[i]=void 0}},l=()=>{window.naver?.maps?n(window.naver.maps):t(new Error("Naver Maps loaded but window.naver.maps is missing."))};if(o)return c&&i?(window[i]=()=>{u(),l()},void(window.naver?.maps&&(u(),n(window.naver.maps)))):(o.addEventListener("load",l,{once:!0}),void o.addEventListener("error",()=>t(new Error("Failed to load Naver Maps SDK.")),{once:!0}));const d=document.createElement("script");d.id=r;const p=new URL("https://oapi.map.naver.com/openapi/v3/maps.js");p.searchParams.set("ncpKeyId",e.ncpKeyId),a.length&&p.searchParams.set("submodules",a.join(",")),c&&i&&(window[i]=()=>{u(),l()},p.searchParams.set("callback",i)),d.src=p.toString(),d.async=!0,d.type="text/javascript",d.onload=()=>{c||l()},d.onerror=()=>{u(),t(new Error("Failed to load Naver Maps SDK."))},document.head.appendChild(d)}).catch(e=>{throw u=null,e}),u)}const d={init:"onInit",bounds_changed:"onBoundsChanged",dragstart:"onDragStart",dragend:"onDragEnd",idle:"onIdle",resize:"onResize",scroll:"onScroll",addLayer:"onAddLayer",center_changed:"onCenterChanged",centerPoint_changed:"onCenterPointChanged",click:"onClick",dbclick:"onDbclick",doubletap:"onDoubletap",mapType_changed:"onMapTypeChanged",mapTypeId_changed:"onMapTypeIdChanged",mousedown:"onMousedown",mousemove:"onMousemove",mouseout:"onMouseout",mouseover:"onMouseover",mouseup:"onMouseup",panning:"onPanning",pinch:"onPinch",pinch_start:"onPinchStart",projection_changed:"onProjectionChanged",removeLayer:"onRemoveLayer",size_changed:"onSizeChanged",tap:"onTap",tilesloaded:"onTilesLoaded",touchend:"onTouchEnd",touchstart:"onTouchStart",touchmove:"onTouchMove",twofintertap:"onTwoFingerTap",zoom_changed:"onZoomChanged",zoomend:"onZoomEnd",zoomstart:"onZoomStart"},p=(0,o.forwardRef)(({id:e,mapTypeId:n="normal",ncpKeyId:t,children:a,initialOptions:c={},submodules:u=[],style:p,disableGL:f=!1,reuseMap:h=!1,center:m,zoom:v,...y},g)=>{const b=(0,o.useContext)(s),E=(0,o.useRef)(null),[k,x]=(0,o.useState)(),M=(0,o.useRef)(void 0),{isScriptLoaded:w}=(({ncpKeyId:e,submodules:n,disableGL:t})=>{const[r,s]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>JSON.stringify({ncpKeyId:e,submodules:n}),[e,n]);return(0,o.useEffect)(()=>{let e=!1;const{submodules:n,ncpKeyId:r}=JSON.parse(a),o=!t;return(async()=>{try{await l({ncpKeyId:r,submodules:n,useGL:o}),e||s(!0)}catch(t){if(!o)return;console.warn("Naver Maps GL load failed, retrying without GL",t);try{await l({ncpKeyId:r,submodules:n,useGL:!1}),e||s(!0)}catch(a){e||console.error("Failed to load Naver Maps SDK",a)}}})(),()=>{e=!0}},[a,t]),{isScriptLoaded:r}})({ncpKeyId:t,submodules:u,disableGL:f});(0,o.useEffect)(()=>{if(!w||!E.current)return;if("current"===e)throw new Error("id cannot be 'current' use other id");const n=e??"default",t=b.maps[n],r=e=>{const n=b.getParkingContainer(),t=e.getElement();n&&t&&t.parentElement===E.current&&n.appendChild(t)};if(h&&t){const e=t.getElement();if(e&&E.current&&e.parentElement!==E.current){for(;E.current.firstChild;)E.current.removeChild(E.current.firstChild);E.current.appendChild(e)}return t.refresh(),x(t),M.current=t,()=>{r(t),b.onUnmount(n,{keep:!0}),M.current=void 0}}const o=new naver.maps.Map(E.current,{...c,gl:!f});return x(o),b.onMount(o,n),M.current=o,()=>{if(h)return r(o),b.onUnmount(n,{keep:!0}),void(M.current=void 0);b.onUnmount(n),M.current=void 0,queueMicrotask(()=>{o.destroy()})}},[w,h,e]);const j=(0,o.useRef)({});(0,o.useEffect)(()=>{const e={};Object.keys(d).forEach(n=>{const t=y[d[n]];"function"==typeof t&&(e[n]=t)}),j.current=e},[y]),(0,o.useEffect)(()=>{k&&k.setMapTypeId(n)},[k,n]),(0,o.useEffect)(()=>{if(!k)return;const e=[];return Object.keys(d).forEach(n=>{const t=naver.maps.Event.addListener(k,n,(...e)=>{j.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[k]);const L=(0,o.useRef)(void 0);(0,o.useEffect)(()=>{if(!k||!m)return;const e=m instanceof naver.maps.LatLng?m:new naver.maps.LatLng(m);L.current?.equals(e)||(k.setCenter(e),L.current=e)},[k,m]),(0,o.useEffect)(()=>{k&&v&&void 0!==v&&k.setZoom(v,!0)},[k,v]),(0,o.useImperativeHandle)(g,()=>M.current,[k]);const O=(0,o.useMemo)(()=>({width:"100%",height:"100%",...p}),[p]);return(0,r.jsx)("div",{id:e,style:O,ref:E,children:k&&(0,r.jsx)(i.Provider,{value:k,children:a})})});p.displayName="Map";const f={click:"onClick",position_changed:"onPositionChanged",rightclick:"onRightclick",title_changed:"onTitleChanged",touchend:"onTouchEnd",touchstart:"onTouchStart",visible_changed:"onVisibleChanged",zindex_changed:"onZIndexChanged",clickable_changed:"onClickableChanged",dblclick:"onDblclick",draggable_changed:"onDraggableChanged",icon_changed:"onIconChanged",icon_loaded:"onIconLoaded",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut"},h=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(f).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Marker(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{if(!r)return;const e=i.position;e&&r.setPosition(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.animation;r.setAnimation(e??null)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.clickable;r.setClickable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.zIndex;void 0!==e&&r.setZIndex(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.cursor;r.setCursor(e??"")},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.draggable;r.setDraggable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.icon;e&&r.setIcon(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.shape;e&&r.setShape(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.title;e&&r.setTitle(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.visible;r.setVisible(e??!0)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(f).forEach(n=>{const t=a[f[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(f).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}),m={"center-center":"translate(-50%, -50%)","center-left":"translate(-100%, -50%)","center-right":"translate(0, -50%)","top-center":"translate(-50%, 0)","top-left":"translate(-100%, 0)","top-right":"translate(0, 0)","bottom-center":"translate(-50%, -100%)","bottom-left":"translate(-100%, -100%)","bottom-right":"translate(0, -100%)"},v=()=>class extends naver.maps.OverlayView{constructor({element:e,position:n,zIndex:t,anchor:r="center-center"}){super(),this._element=e,this._position=n,this.zIndex=t,this.anchor=r}getPosition(){return this._position}setPosition(e){this._position=e,this.draw()}setZIndex(e){this.zIndex=e,this.draw()}setAnchor(e){this.anchor=e,this.draw()}onAdd(){this.getPanes().overlayImage.append(this._element)}draw(){if(!this.getMap())return;const e=this.getProjection().fromCoordToOffset(new naver.maps.LatLng(this.getPosition()));this._element.style.position="absolute",this._element.style.zIndex=this.zIndex?.toString()??"auto",this._element.style.left=`${e.x}px`,this._element.style.top=`${e.y}px`,this._element.style.transform=m[this.anchor??"bottom-center"]}destroy(){this._element.remove()}onRemove(){this.destroy()}},y=({children:e,...n})=>{const{current:t}=c(),s=(0,o.useRef)(null),[a,i]=(0,o.useState)();return(0,o.useEffect)(()=>{if(!t||!s.current)return;const e=new(v())({element:s.current,...n});return e.setMap(t),i(e),()=>{e.destroy()}},[t]),(0,o.useEffect)(()=>{a&&a.setPosition(n.position)},[a,n.position]),(0,o.useEffect)(()=>{a&&a.setZIndex(n.zIndex)},[a,n.zIndex]),(0,o.useEffect)(()=>{a&&a.setAnchor(n.anchor)},[a,n.anchor]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{ref:s,children:e})})},g={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},b=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(g).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polygon(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(g).forEach(n=>{const t=a[g[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(g).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});b.displayName="Polygon";const E={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},k=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(E).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polyline(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(E).forEach(n=>{const t=a[E[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(E).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});k.displayName="Polyline";const x={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},M=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(x).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Rectangle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(x).forEach(n=>{const t=a[x[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(x).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});M.displayName="Rectangle";const w={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},j=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(w).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Circle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(w).forEach(n=>{const t=a[w[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(w).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});j.displayName="Circle";const L={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"};(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(L).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Ellipse(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(L).forEach(n=>{const t=a[L[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(L).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}).displayName="Ellipse";const O={addfeature:"onAddFeature",removefeature:"onRemoveFeature",setfeature:"onSetFeature",setgeometry:"onSetGeometry",setproperty:"onSetProperty",removeproperty:"onRemoveProperty",click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mousemove:"onMouseMove"},C=e=>{if(null===e||"object"!=typeof e)return!1;if(Array.isArray(e))return!1;const n=Object.getPrototypeOf(e);return n===Object.prototype||null===n},P=(e,n,t=new WeakMap)=>{if(Object.is(e,n))return!0;if(typeof e!=typeof n)return!1;if("function"==typeof e)return!1;if(null===e||null===n)return!1;if(Array.isArray(e)){if(!Array.isArray(n))return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r+=1)if(!P(e[r],n[r],t))return!1;return!0}if(C(e)){if(!C(n))return!1;const r=t.get(e);if(r?.has(n))return!0;r?r.add(n):t.set(e,new WeakSet([n]));const o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(const a of o){if(!Object.prototype.hasOwnProperty.call(n,a))return!1;if(!P(e[a],n[a],t))return!1}return!0}return!1},I=({type:e,data:n,autoStyle:t=!0,style:r,onLoad:s,onError:a,...i})=>{const{current:u}=c(),[l,d]=(0,o.useState)(),p=(0,o.useRef)(),f=(0,o.useRef)(),h=(0,o.useMemo)(()=>e=>{e.getAllFeature().forEach(n=>{e.removeFeature(n)})},[]);(0,o.useEffect)(()=>{if(!u)return;const e=new naver.maps.Data;return e.setMap(u),d(e),()=>{e.setMap(null),d(void 0)}},[u]),(0,o.useEffect)(()=>{if(!l)return;const r=new AbortController;return(async()=>{try{if(h(l),"string"==typeof n){const o=await fetch(n,{signal:r.signal});if(!o.ok)throw new Error(`Failed to fetch data layer: ${o.status}`);if("geojson"===e){const e=await o.json();return void(r.signal.aborted||(l.addGeoJson(e,t),s?.(l)))}const a=await o.text(),c=(new DOMParser).parseFromString(a,"text/xml");"gpx"===e&&l.addGpx(c,t),"kml"===e&&l.addKml(c,t),s?.(l)}}catch(o){if(r.signal.aborted)return;a?.(o)}})(),()=>r.abort()},[l,e,n,t,h,s,a]),(0,o.useEffect)(()=>{l&&void 0!==r&&(f.current===l&&p.current&&P(p.current,r)||(l.setStyle(r),p.current=r,f.current=l))},[l,r]);const m=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(O).forEach(n=>{const t=i[O[n]];"function"==typeof t&&(e[n]=t)}),m.current=e},[i]),(0,o.useEffect)(()=>{if(!l)return;const e=[];return Object.keys(O).forEach(n=>{const t=naver.maps.Event.addListener(l,n,(...e)=>{m.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[l]),null}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},8478(e,n,t){t.d(n,{A:()=>s});t(6540);var r=t(2303),o=t(4848);function s({children:e,fallback:n}){return(0,r.A)()?(0,o.jsx)(o.Fragment,{children:e?.()}):n??null}},9753(e,n,t){t.d(n,{N:()=>r});const r="qeycp2mj4a"}}]);