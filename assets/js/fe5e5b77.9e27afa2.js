"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6937],{3574(e,n,t){t.r(n),t.d(n,{assets:()=>v,contentTitle:()=>h,default:()=>x,frontMatter:()=>f,metadata:()=>r,toc:()=>y});const r=JSON.parse('{"id":"interactive-map","title":"\uc778\ud130\ub799\ud2f0\ube0c \uc9c0\ub3c4 \uc608\uc81c","description":"\uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9\uc774 \uc788\ub294 \uace0\uae09 \uc608\uc81c\uc785\ub2c8\ub2e4.","source":"@site/examples/interactive-map.mdx","sourceDirName":".","slug":"/interactive-map","permalink":"/react-naver-maps/examples/interactive-map","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"examplesSidebar","previous":{"title":"\ub3c4\ud615 \uadf8\ub9ac\uae30","permalink":"/react-naver-maps/examples/drawing-shapes-example"},"next":{"title":"\ub370\uc774\ud130 \ub808\uc774\uc5b4 \uc608\uc81c","permalink":"/react-naver-maps/examples/data-layer-example"}}');var o=t(4848),s=t(8453),a=t(6540),c=t(6283),i=t(9753);const u=({ncpKeyId:e=i.N})=>{const[n,t]=a.useState([]),[r,s]=a.useState(0);return(0,o.jsx)("div",{style:{width:"100%",height:"400px",margin:"20px 0"},children:(0,o.jsx)(c.T5,{ncpKeyId:e,mapOptions:{center:{x:127.0276,y:37.4979},zoom:13},onClick:e=>{const n=e.coord;t(e=>[...e,{x:n.x,y:n.y,id:r}]),s(e=>e+1)},children:n.map(e=>(0,o.jsx)(c.pH,{position:{x:e.x,y:e.y}},e.id))})})},d=({ncpKeyId:e=i.N})=>{const[n,t]=a.useState({x:127.0276,y:37.4979});return(0,o.jsxs)("div",{style:{width:"100%",height:"400px",margin:"20px 0"},children:[(0,o.jsx)(c.T5,{ncpKeyId:e,mapOptions:{center:{x:127.0276,y:37.4979},zoom:14},children:(0,o.jsx)(c.pH,{position:n,draggable:!0,onPositionChanged:e=>{t({x:e.x,y:e.y})}})}),(0,o.jsxs)("div",{style:{marginTop:"10px",fontSize:"14px"},children:["\ud604\uc7ac \uc704\uce58: ",n.x.toFixed(4),", ",n.y.toFixed(4)]})]})},l=({ncpKeyId:e=i.N})=>{const n=a.useRef(null),t=(e,t)=>{n.current&&n.current.setCenter(new naver.maps.LatLng(t,e))};return(0,o.jsxs)("div",{style:{margin:"20px 0"},children:[(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("button",{onClick:()=>{if(n.current){const e=n.current.getZoom();n.current.setZoom(e+1)}},children:"\ud655\ub300"}),(0,o.jsx)("button",{onClick:()=>{if(n.current){const e=n.current.getZoom();n.current.setZoom(e-1)}},style:{marginLeft:"6px"},children:"\ucd95\uc18c"}),(0,o.jsx)("button",{onClick:()=>t(127.0276,37.4979),style:{marginLeft:"6px"},children:"\uac15\ub0a8\uc5ed\uc73c\ub85c \uc774\ub3d9"}),(0,o.jsx)("button",{onClick:()=>t(126.978,37.5665),style:{marginLeft:"6px"},children:"\uc11c\uc6b8\uc5ed\uc73c\ub85c \uc774\ub3d9"})]}),(0,o.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,o.jsx)(c.T5,{ref:n,ncpKeyId:e,mapOptions:{center:{x:127.0276,y:37.4979},zoom:12}})})]})},p=({ncpKeyId:e=i.N})=>{const[n,t]=a.useState([]),r=e=>{t(n=>[e,...n].slice(0,10))};return(0,o.jsxs)("div",{style:{margin:"20px 0"},children:[(0,o.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,o.jsx)(c.T5,{ncpKeyId:e,mapOptions:{center:{x:127.0276,y:37.4979},zoom:12},onClick:()=>r("\uc9c0\ub3c4 \ud074\ub9ad"),onZoomStart:()=>r("\uc90c \uc2dc\uc791"),onZoomEnd:()=>r("\uc90c \uc885\ub8cc"),onDragStart:()=>r("\ub4dc\ub798\uadf8 \uc2dc\uc791"),onDragEnd:()=>r("\ub4dc\ub798\uadf8 \uc885\ub8cc"),onBoundsChanged:()=>r("\ubc94\uc704 \ubcc0\uacbd")})}),(0,o.jsxs)("div",{style:{marginTop:"10px"},children:[(0,o.jsx)("h3",{style:{marginBottom:"6px"},children:"\uc774\ubca4\ud2b8 \ub85c\uadf8"}),(0,o.jsx)("ul",{style:{paddingLeft:"18px",margin:0},children:n.map((e,n)=>(0,o.jsx)("li",{style:{fontSize:"14px",lineHeight:"1.4"},children:e},n))})]})]})};var m=t(8478);const f={sidebar_position:5},h="\uc778\ud130\ub799\ud2f0\ube0c \uc9c0\ub3c4 \uc608\uc81c",v={},y=[{value:"\uc9c0\ub3c4 \ud074\ub9ad\uc73c\ub85c \ub9c8\ucee4 \ucd94\uac00",id:"\uc9c0\ub3c4-\ud074\ub9ad\uc73c\ub85c-\ub9c8\ucee4-\ucd94\uac00",level:2},{value:"\ub9c8\ucee4 \ub4dc\ub798\uadf8",id:"\ub9c8\ucee4-\ub4dc\ub798\uadf8",level:2},{value:"\uc9c0\ub3c4 \uc774\ubca4\ud2b8 \ucc98\ub9ac",id:"\uc9c0\ub3c4-\uc774\ubca4\ud2b8-\ucc98\ub9ac",level:2},{value:"\uc9c0\ub3c4 \uc81c\uc5b4 \ubc84\ud2bc",id:"\uc9c0\ub3c4-\uc81c\uc5b4-\ubc84\ud2bc",level:2}];function g(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\uc778\ud130\ub799\ud2f0\ube0c-\uc9c0\ub3c4-\uc608\uc81c",children:"\uc778\ud130\ub799\ud2f0\ube0c \uc9c0\ub3c4 \uc608\uc81c"})}),"\n",(0,o.jsx)(n.p,{children:"\uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9\uc774 \uc788\ub294 \uace0\uae09 \uc608\uc81c\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"\uc9c0\ub3c4-\ud074\ub9ad\uc73c\ub85c-\ub9c8\ucee4-\ucd94\uac00",children:"\uc9c0\ub3c4 \ud074\ub9ad\uc73c\ub85c \ub9c8\ucee4 \ucd94\uac00"}),"\n",(0,o.jsx)(m.A,{children:()=>(0,o.jsx)(u,{})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\r\nimport { Map, Marker } from "@rousen/react-naver-maps";\r\n\r\nfunction ClickToAddMarker() {\r\n  const [markers, setMarkers] = useState<\r\n    Array<{ x: number; y: number; id: number }>\r\n  >([]);\r\n  const [idCounter, setIdCounter] = useState(0);\r\n\r\n  const handleMapClick = (event: naver.maps.PointerEvent) => {\r\n    const coord = event.coord;\r\n    setMarkers((prev) => [...prev, { x: coord.x, y: coord.y, id: idCounter }]);\r\n    setIdCounter((prev) => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id" onClick={handleMapClick}>\r\n        {markers.map((marker) => (\r\n          <Marker key={marker.id} position={{ x: marker.x, y: marker.y }} />\r\n        ))}\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClickToAddMarker;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\ub9c8\ucee4-\ub4dc\ub798\uadf8",children:"\ub9c8\ucee4 \ub4dc\ub798\uadf8"}),"\n",(0,o.jsx)(m.A,{children:()=>(0,o.jsx)(d,{})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\r\nimport { Map, Marker } from "@rousen/react-naver-maps";\r\n\r\nfunction DraggableMarker() {\r\n  const [position, setPosition] = useState({ x: 127.0276, y: 37.4979 });\r\n\r\n  return (\r\n    <div style={{ width: "100%", height: "400px" }}>\r\n      <Map ncpKeyId="your-ncp-key-id">\r\n        <Marker\r\n          position={position}\r\n          draggable={true}\r\n          onPositionChanged={(marker) => {\r\n            const pos = marker.getPosition();\r\n            setPosition({ x: pos.x, y: pos.y });\r\n          }}\r\n        />\r\n      </Map>\r\n      <div style={{ marginTop: "10px" }}>\r\n        \ud604\uc7ac \uc704\uce58: {position.x.toFixed(4)}, {position.y.toFixed(4)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DraggableMarker;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc9c0\ub3c4-\uc774\ubca4\ud2b8-\ucc98\ub9ac",children:"\uc9c0\ub3c4 \uc774\ubca4\ud2b8 \ucc98\ub9ac"}),"\n",(0,o.jsx)(m.A,{children:()=>(0,o.jsx)(p,{})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\r\nimport { Map } from "@rousen/react-naver-maps";\r\n\r\nfunction MapEvents() {\r\n  const [events, setEvents] = useState<string[]>([]);\r\n\r\n  const addEvent = (eventName: string) => {\r\n    setEvents((prev) => [eventName, ...prev].slice(0, 10));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ width: "100%", height: "400px" }}>\r\n        <Map\r\n          ncpKeyId="your-ncp-key-id"\r\n          onClick={() => addEvent("\uc9c0\ub3c4 \ud074\ub9ad")}\r\n          onZoomStart={() => addEvent("\uc90c \uc2dc\uc791")}\r\n          onZoomEnd={() => addEvent("\uc90c \uc885\ub8cc")}\r\n          onDragStart={() => addEvent("\ub4dc\ub798\uadf8 \uc2dc\uc791")}\r\n          onDragEnd={() => addEvent("\ub4dc\ub798\uadf8 \uc885\ub8cc")}\r\n          onBoundsChanged={() => addEvent("\ubc94\uc704 \ubcc0\uacbd")}\r\n        />\r\n      </div>\r\n      <div style={{ marginTop: "10px" }}>\r\n        <h3>\uc774\ubca4\ud2b8 \ub85c\uadf8:</h3>\r\n        <ul>\r\n          {events.map((event, index) => (\r\n            <li key={index}>{event}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapEvents;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc9c0\ub3c4-\uc81c\uc5b4-\ubc84\ud2bc",children:"\uc9c0\ub3c4 \uc81c\uc5b4 \ubc84\ud2bc"}),"\n",(0,o.jsx)(m.A,{children:()=>(0,o.jsx)(l,{})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { useRef } from "react";\r\nimport { Map } from "@rousen/react-naver-maps";\r\n\r\nfunction MapControls() {\r\n  const mapRef = useRef<naver.maps.Map>(null);\r\n\r\n  const zoomIn = () => {\r\n    if (mapRef.current) {\r\n      const currentZoom = mapRef.current.getZoom();\r\n      mapRef.current.setZoom(currentZoom + 1);\r\n    }\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    if (mapRef.current) {\r\n      const currentZoom = mapRef.current.getZoom();\r\n      mapRef.current.setZoom(currentZoom - 1);\r\n    }\r\n  };\r\n\r\n  const setCenter = (x: number, y: number) => {\r\n    if (mapRef.current) {\r\n      mapRef.current.setCenter(new naver.maps.LatLng(y, x));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginBottom: "10px" }}>\r\n        <button onClick={zoomIn}>\ud655\ub300</button>\r\n        <button onClick={zoomOut} style={{ marginLeft: "5px" }}>\r\n          \ucd95\uc18c\r\n        </button>\r\n        <button\r\n          onClick={() => setCenter(127.0276, 37.4979)}\r\n          style={{ marginLeft: "5px" }}\r\n        >\r\n          \uac15\ub0a8\uc5ed\uc73c\ub85c \uc774\ub3d9\r\n        </button>\r\n        <button\r\n          onClick={() => setCenter(126.978, 37.5665)}\r\n          style={{ marginLeft: "5px" }}\r\n        >\r\n          \uc11c\uc6b8\uc5ed\uc73c\ub85c \uc774\ub3d9\r\n        </button>\r\n      </div>\r\n      <div style={{ width: "100%", height: "400px" }}>\r\n        <Map ref={mapRef} ncpKeyId="your-ncp-key-id" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapControls;\n'})})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}},6283(e,n,t){t.d(n,{KU:()=>a,M_:()=>M,Ro:()=>k,T5:()=>p,hJ:()=>y,jl:()=>j,ko:()=>c,pH:()=>f,qZ:()=>S,tS:()=>x});var r=t(4848),o=t(6540);const s=(0,o.createContext)({maps:{},onMount:()=>{},onUnmount:()=>{}}),a=({children:e})=>{const[n,t]=(0,o.useState)({}),a=(0,o.useCallback)((e,n="default")=>{t(t=>({...t,[n]:e}))},[]),c=(0,o.useCallback)((e="default")=>{t(n=>{const t={...n};return delete t[e],t})},[]),i=(0,o.useMemo)(()=>({maps:n,onMount:a,onUnmount:c}),[n,a,c]);return(0,r.jsx)(s.Provider,{value:i,children:e})},c=()=>{const{maps:e}=(0,o.useContext)(s),n=(0,o.useContext)(i);return(0,o.useMemo)(()=>n?{...e,current:n}:e,[e,n])},i=(0,o.createContext)(void 0);let u=null;function d(e){return"undefined"==typeof window?Promise.reject(new Error("Naver Maps SDK can only be loaded in browser.")):window.naver?.maps?Promise.resolve(window.naver.maps):u||(u=new Promise((n,t)=>{const r=e.scriptId??"naver-maps-sdk",o=document.getElementById(r),s=new Set((e.submodules??[]).filter(Boolean));!1!==e.useGL&&s.add("gl");const a=Array.from(s),c=a.includes("gl"),i=c?`__naverMapsOnLoad__${r.replace(/[^a-zA-Z0-9_]/g,"_")}`:null,u=()=>{if(i&&window[i])try{delete window[i]}catch{window[i]=void 0}},d=()=>{window.naver?.maps?n(window.naver.maps):t(new Error("Naver Maps loaded but window.naver.maps is missing."))};if(o)return c&&i?(window[i]=()=>{u(),d()},void(window.naver?.maps&&(u(),n(window.naver.maps)))):(o.addEventListener("load",d,{once:!0}),void o.addEventListener("error",()=>t(new Error("Failed to load Naver Maps SDK.")),{once:!0}));const l=document.createElement("script");l.id=r;const p=new URL("https://oapi.map.naver.com/openapi/v3/maps.js");p.searchParams.set("ncpKeyId",e.ncpKeyId),a.length&&p.searchParams.set("submodules",a.join(",")),c&&i&&(window[i]=()=>{u(),d()},p.searchParams.set("callback",i)),l.src=p.toString(),l.async=!0,l.type="text/javascript",l.onload=()=>{c||d()},l.onerror=()=>{u(),t(new Error("Failed to load Naver Maps SDK."))},document.head.appendChild(l)}).catch(e=>{throw u=null,e}),u)}const l={init:"onInit",zoomstart:"onZoomStart",zoomend:"onZoomEnd",bounds_changed:"onBoundsChanged",dragstart:"onDragStart",dragend:"onDragEnd",idle:"onIdle",resize:"onResize",scroll:"onScroll",addLayer:"onAddLayer",center_changed:"onCenterChanged",centerPoint_changed:"onCenterPointChanged",click:"onClick",dbclick:"onDbclick",doubletap:"onDoubletap",mapType_changed:"onMapTypeChanged",mapTypeId_changed:"onMapTypeIdChanged",mousedown:"onMousedown",mousemove:"onMousemove",mouseout:"onMouseout",mouseover:"onMouseover",mouseup:"onMouseup",panning:"onPanning",pinch:"onPinch",pinch_start:"onPinchStart",projection_changed:"onProjectionChanged",removeLayer:"onRemoveLayer",size_changed:"onSizeChanged"},p=(0,o.forwardRef)(({id:e,mapTypeId:n="normal",ncpKeyId:t,children:a,mapOptions:c={},submodules:u=[],style:p,disableGL:m=!1,...f},h)=>{const v=(0,o.useContext)(s),y=(0,o.useRef)(null),[g,x]=(0,o.useState)(),E=(0,o.useRef)(void 0),{isScriptLoaded:k}=(({ncpKeyId:e,submodules:n,disableGL:t})=>{const[r,s]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>JSON.stringify({ncpKeyId:e,submodules:n}),[e,n]);return(0,o.useEffect)(()=>{let e=!1;const{submodules:n,ncpKeyId:r}=JSON.parse(a),o=!t;return(async()=>{try{await d({ncpKeyId:r,submodules:n,useGL:o}),e||s(!0)}catch(t){if(!o)return;console.warn("Naver Maps GL load failed, retrying without GL",t);try{await d({ncpKeyId:r,submodules:n,useGL:!1}),e||s(!0)}catch(a){e||console.error("Failed to load Naver Maps SDK",a)}}})(),()=>{e=!0}},[a,t]),{isScriptLoaded:r}})({ncpKeyId:t,submodules:u,disableGL:m}),b=(0,o.useMemo)(()=>JSON.stringify(c)||"",[c]);(0,o.useEffect)(()=>{if(!k||!y.current)return;if("current"===e)throw new Error("id cannot be 'current' use other id");const n=new naver.maps.Map(y.current,{...c,gl:!m});return x(n),v.onMount(n,e),E.current=n,()=>{v.onUnmount(e),E.current=void 0,queueMicrotask(()=>{n.destroy()})}},[k]);const M=(0,o.useRef)({});(0,o.useEffect)(()=>{const e={};Object.keys(l).forEach(n=>{const t=f[l[n]];"function"==typeof t&&(e[n]=t)}),M.current=e},[f]),(0,o.useEffect)(()=>{g&&g.setMapTypeId(n)},[g,n]),(0,o.useEffect)(()=>{if(!g)return;const e=[];return Object.keys(l).forEach(n=>{const t=naver.maps.Event.addListener(g,n,(...e)=>{M.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[g]),(0,o.useEffect)(()=>{g&&g.setOptions(JSON.parse(b))},[g,b]),(0,o.useImperativeHandle)(h,()=>E.current,[g]);const w=(0,o.useMemo)(()=>({width:"100%",height:"100%",...p}),[p]);return(0,r.jsx)("div",{id:e,style:w,ref:y,children:g&&(0,r.jsx)(i.Provider,{value:g,children:a})})});p.displayName="Map";const m={click:"onClick",position_changed:"onPositionChanged",rightclick:"onRightclick",title_changed:"onTitleChanged",touchend:"onTouchEnd",touchstart:"onTouchStart",visible_changed:"onVisibleChanged",zindex_changed:"onZIndexChanged",clickable_changed:"onClickableChanged",dblclick:"onDblclick",draggable_changed:"onDraggableChanged",icon_changed:"onIconChanged",icon_loaded:"onIconLoaded",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut"},f=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(m).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Marker(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{if(!r)return;const e=i.position;e&&r.setPosition(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.animation;r.setAnimation(e??null)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.clickable;r.setClickable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.zIndex;void 0!==e&&r.setZIndex(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.cursor;r.setCursor(e??"")},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.draggable;r.setDraggable(e??!1)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.icon;e&&r.setIcon(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.shape;e&&r.setShape(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.title;e&&r.setTitle(e)},[r,i]),(0,o.useEffect)(()=>{if(!r)return;const e=i.visible;r.setVisible(e??!0)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(m).forEach(n=>{const t=a[m[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(m).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}),h={"center-center":"translate(-50%, -50%)","center-left":"translate(-100%, -50%)","center-right":"translate(0, -50%)","top-center":"translate(-50%, 0)","top-left":"translate(-100%, 0)","top-right":"translate(0, 0)","bottom-center":"translate(-50%, -100%)","bottom-left":"translate(-100%, -100%)","bottom-right":"translate(0, -100%)"},v=()=>class extends naver.maps.OverlayView{constructor({element:e,position:n,zIndex:t,anchor:r="center-center"}){super(),this._element=e,this._position=n,this.zIndex=t,this.anchor=r}getPosition(){return this._position}setPosition(e){this._position=e,this.draw()}setZIndex(e){this.zIndex=e,this.draw()}setAnchor(e){this.anchor=e,this.draw()}onAdd(){this.getPanes().overlayImage.append(this._element)}draw(){if(!this.getMap())return;const e=this.getProjection().fromCoordToOffset(new naver.maps.LatLng(this.getPosition()));this._element.style.position="absolute",this._element.style.zIndex=this.zIndex?.toString()??"auto",this._element.style.left=`${e.x}px`,this._element.style.top=`${e.y}px`,this._element.style.transform=h[this.anchor??"bottom-center"]}destroy(){this._element.remove()}onRemove(){this.destroy()}},y=({children:e,...n})=>{const{current:t}=c(),s=(0,o.useRef)(null),[a,i]=(0,o.useState)();return(0,o.useEffect)(()=>{if(!t||!s.current)return;const e=new(v())({element:s.current,...n});return e.setMap(t),i(e),()=>{e.destroy()}},[t]),(0,o.useEffect)(()=>{a&&a.setPosition(n.position)},[a,n.position]),(0,o.useEffect)(()=>{a&&a.setZIndex(n.zIndex)},[a,n.zIndex]),(0,o.useEffect)(()=>{a&&a.setAnchor(n.anchor)},[a,n.anchor]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{ref:s,children:e})})},g={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},x=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(g).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polygon(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(g).forEach(n=>{const t=a[g[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(g).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});x.displayName="Polygon";const E={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},k=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(E).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Polyline(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(E).forEach(n=>{const t=a[E[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(E).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});k.displayName="Polyline";const b={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},M=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(b).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Rectangle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(b).forEach(n=>{const t=a[b[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(b).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});M.displayName="Rectangle";const w={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},j=(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(w).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Circle(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(w).forEach(n=>{const t=a[w[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(w).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null});j.displayName="Circle";const C={click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"};(0,o.forwardRef)((e,n)=>{const{current:t}=c(),[r,s]=(0,o.useState)(),a={},i={};Object.keys(e).forEach(n=>{const t=n;if(Object.values(C).includes(t)){const n=e[t];void 0!==n&&(a[t]=n)}else{const t=e[n];void 0!==t&&(i[n]=t)}}),(0,o.useEffect)(()=>{if(!t)return;const e=new naver.maps.Ellipse(i);return s(e),e.setMap(t),()=>{t&&e.setMap(null)}},[t]),(0,o.useEffect)(()=>{r&&r.setOptions(i)},[r,i]);const u=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(C).forEach(n=>{const t=a[C[n]];"function"==typeof t&&(e[n]=t)}),u.current=e},[a]),(0,o.useEffect)(()=>{if(!r)return;const e=[];return Object.keys(C).forEach(n=>{const t=naver.maps.Event.addListener(r,n,(...e)=>{u.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[r]),(0,o.useImperativeHandle)(n,()=>r,[r]),null}).displayName="Ellipse";const O={addfeature:"onAddFeature",removefeature:"onRemoveFeature",setfeature:"onSetFeature",setgeometry:"onSetGeometry",setproperty:"onSetProperty",removeproperty:"onRemoveProperty",click:"onClick",dblclick:"onDblclick",rightclick:"onRightclick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mouseout:"onMouseOut",mousemove:"onMouseMove"},S=({type:e,url:n,autoStyle:t=!0,style:r,onLoad:s,onError:a,...i})=>{const{current:u}=c(),[d,l]=(0,o.useState)(),p=(0,o.useMemo)(()=>e=>{e.getAllFeature().forEach(n=>{e.removeFeature(n)})},[]);(0,o.useEffect)(()=>{if(!u)return;const e=new naver.maps.Data;return e.setMap(u),l(e),()=>{e.setMap(null),l(void 0)}},[u]),(0,o.useEffect)(()=>{if(!d)return;const r=new AbortController;return(async()=>{try{p(d);const o=await fetch(n,{signal:r.signal});if(!o.ok)throw new Error(`Failed to fetch data layer: ${o.status}`);if("geojson"===e){const e=await o.json();return void(r.signal.aborted||(d.addGeoJson(e,t),s?.(d)))}const a=await o.text();if(r.signal.aborted)return;const c=(new DOMParser).parseFromString(a,"text/xml");"gpx"===e&&d.addGpx(c,t),"kml"===e&&d.addKml(c,t),s?.(d)}catch(o){if(r.signal.aborted)return;a?.(o)}})(),()=>r.abort()},[d,e,n,t,p,s,a]),(0,o.useEffect)(()=>{d&&void 0!==r&&d.setStyle(r)},[d,r]);const m=(0,o.useRef)({});return(0,o.useEffect)(()=>{const e={};Object.keys(O).forEach(n=>{const t=i[O[n]];"function"==typeof t&&(e[n]=t)}),m.current=e},[i]),(0,o.useEffect)(()=>{if(!d)return;const e=[];return Object.keys(O).forEach(n=>{const t=naver.maps.Event.addListener(d,n,(...e)=>{m.current[n]?.(...e)});e.push(()=>naver.maps.Event.removeListener(t))}),()=>e.forEach(e=>e())},[d]),null}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},8478(e,n,t){t.d(n,{A:()=>s});t(6540);var r=t(2303),o=t(4848);function s({children:e,fallback:n}){return(0,r.A)()?(0,o.jsx)(o.Fragment,{children:e?.()}):n??null}},9753(e,n,t){t.d(n,{N:()=>r});const r="qeycp2mj4a"}}]);